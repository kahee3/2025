import streamlit as st
import pandas as pd

# ------------------------------
# ì§ˆë³‘ ë°ì´í„° + ì´ëª¨ì§€
# ------------------------------
disease_data = [
    {"ì§ˆë³‘ëª…": "ê°ê¸° ğŸ¤§", "ë¶„ë¥˜": "ê°ì—¼ë³‘", "ì¦ìƒ": "ì½§ë¬¼, ì¬ì±„ê¸°, ê¸°ì¹¨",
     "ì¹˜ë£Œë²•": "íœ´ì‹, ìˆ˜ë¶„ ì„­ì·¨, í•´ì—´ì œ ë³µìš©", "ì˜ˆë°©": "ì† ì”»ê¸°, ë§ˆìŠ¤í¬ ì°©ìš©"},
    {"ì§ˆë³‘ëª…": "ë‹¹ë‡¨ë³‘ ğŸ¬", "ë¶„ë¥˜": "ë§Œì„±ì§ˆí™˜", "ì¦ìƒ": "í˜ˆë‹¹ ìƒìŠ¹, ì¦ì€ ê°ˆì¦, í”¼ë¡œ",
     "ì¹˜ë£Œë²•": "ì‹ì´ìš”ë²•, ìš´ë™, ì¸ìŠë¦°Â·ì•½ë¬¼ ì¹˜ë£Œ", "ì˜ˆë°©": "ì‹ìŠµê´€ ê´€ë¦¬, ê·œì¹™ì  ìš´ë™"},
    {"ì§ˆë³‘ëª…": "ìš°ìš¸ì¦ ğŸ˜”", "ë¶„ë¥˜": "ì •ì‹ ê±´ê°•", "ì¦ìƒ": "ìš°ìš¸ê°, ë¬´ê¸°ë ¥, ìˆ˜ë©´ ì¥ì• ",
     "ì¹˜ë£Œë²•": "ì‹¬ë¦¬ ìƒë‹´, ì•½ë¬¼ ì¹˜ë£Œ, ê·œì¹™ì ì¸ ìƒí™œ", "ì˜ˆë°©": "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬, ì‚¬íšŒì  êµë¥˜ ìœ ì§€"},
    {"ì§ˆë³‘ëª…": "ê³ í˜ˆì•• ğŸ’“", "ë¶„ë¥˜": "ë§Œì„±ì§ˆí™˜", "ì¦ìƒ": "í˜ˆì•• ìƒìŠ¹, ë‘í†µ, ì–´ì§€ëŸ¼ì¦",
     "ì¹˜ë£Œë²•": "ì—¼ë¶„ ì œí•œ, ìš´ë™, í•­ê³ í˜ˆì••ì œ ë³µìš©", "ì˜ˆë°©": "ì €ì—¼ì‹, ì²´ì¤‘ ê´€ë¦¬"},
    {"ì§ˆë³‘ëª…": "ì²œì‹ ğŸŒ¬ï¸", "ë¶„ë¥˜": "í˜¸í¡ê¸°ì§ˆí™˜", "ì¦ìƒ": "í˜¸í¡ ê³¤ë€, ê¸°ì¹¨, ê°€ìŠ´ ë‹µë‹µí•¨",
     "ì¹˜ë£Œë²•": "í¡ì…ì œ ì‚¬ìš©, ì•Œë ˆë¥´ê¸° ìš”ì¸ ì œê±°", "ì˜ˆë°©": "ì•Œë ˆë¥´ê¸° ìœ ë°œ ë¬¼ì§ˆ í”¼í•˜ê¸°"},
    {"ì§ˆë³‘ëª…": "í¸ë‘í†µ ğŸ¤¯", "ë¶„ë¥˜": "ì‹ ê²½ì§ˆí™˜", "ì¦ìƒ": "ë‘í†µ, ë¹›Â·ì†Œë¦¬ì— ë¯¼ê°",
     "ì¹˜ë£Œë²•": "ì§„í†µì œ, ì¶©ë¶„í•œ íœ´ì‹, ì¹´í˜ì¸ ì„­ì·¨ ì¡°ì ˆ", "ì˜ˆë°©": "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬, ìˆ˜ë©´ íŒ¨í„´ ìœ ì§€"}
]
df = pd.DataFrame(disease_data)

# ------------------------------
# í˜ì´ì§€ ì„¤ì •
# ------------------------------
st.set_page_config(page_title="ğŸ¥ ë³‘ì› ìŠ¤íƒ€ì¼ ì§ˆë³‘ ê°€ì´ë“œ", layout="wide")

# ------------------------------
# ë°°ê²½ ì´ë¯¸ì§€ íŒ¨í„´ + CSS
# ------------------------------
st.markdown("""
<style>
body {
    background-color: #e0f7fa;
    background-image: url('https://i.ibb.co/3fK0H6r/medical-pattern.png');
    background-repeat: repeat;
    background-size: 100px 100px;
}

/* íƒ€ì´í‹€ */
.title {
    font-size: 48px;
    font-weight: 900;
    text-align: center;
    color: #00796b;
    padding: 20px;
    margin-bottom: 20px;
    text-shadow: 1px 1px 5px rgba(0,0,0,0.1);
}

/* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
.card {
    background: rgba(255,255,255,0.85);
    border-radius: 20px;
    padding: 20px;
    margin: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 25px rgba(0,0,0,0.25);
}

/* ì¹´ë“œ í…ìŠ¤íŠ¸ */
.card h3 { color: #00796b; font-weight: 700; }
.card p { color: #004d40; font-size: 15px; }

/* í‘¸í„° */
.footer {
    text-align: center;
    color: #004d40;
    font-size: 14px;
    margin-top: 30px;
}
</style>
""", unsafe_allow_html=True)

# ------------------------------
# íƒ€ì´í‹€
# ------------------------------
st.markdown('<div class="title">ğŸ¥ ë³‘ì› ëŠë‚Œ ì§ˆë³‘ ê°€ì´ë“œ</div>', unsafe_allow_html=True)
st.write("ğŸ’¡ ì§ˆë³‘ ê²€ìƒ‰ê³¼ ë¶„ë¥˜ í•„í„°ë¡œ ì¹˜ë£Œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.")

# ------------------------------
# ê²€ìƒ‰/í•„í„°
# ------------------------------
search = st.text_input("ğŸ” ì§ˆë³‘ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ê°ê¸°, ìš°ìš¸ì¦)").strip()
category = st.selectbox("ğŸ“‚ ì§ˆë³‘ ë¶„ë¥˜ ì„ íƒ", options=["ì „ì²´"] + sorted(df["ë¶„ë¥˜"].unique()))

filtered_df = df.copy()
if search:
    filtered_df = filtered_df[filtered_df["ì§ˆë³‘ëª…"].str.contains(search, case=False)]
if category != "ì „ì²´":
    filtered_df = filtered_df[filtered_df["ë¶„ë¥˜"] == category]

# ------------------------------
# ì¹´ë“œ ì¶œë ¥ (2ì—´ ë ˆì´ì•„ì›ƒ)
# ------------------------------
cols = st.columns(2)
for i, (_, row) in enumerate(filtered_df.iterrows()):
    with cols[i % 2]:
        st.markdown(f"""
        <div class="card">
            <h3>{row['ì§ˆë³‘ëª…']}</h3>
            <p><strong>ğŸ“Œ ë¶„ë¥˜:</strong> {row['ë¶„ë¥˜']}</p>
            <p><strong>ğŸ§¾ ì¦ìƒ:</strong> {row['ì¦ìƒ']}</p>
            <p><strong>ğŸ’Š ì¹˜ë£Œë²•:</strong> {row['ì¹˜ë£Œë²•']}</p>
            <p><strong>ğŸ›¡ ì˜ˆë°©:</strong> {row['ì˜ˆë°©']}</p>
        </div>
        """, unsafe_allow_html=True)

if filtered_df.empty:
    st.warning("âš ï¸ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”!")

# ------------------------------
# í‘¸í„°
# ------------------------------
st.markdown('<div class="footer">ğŸ’¡ ë³¸ ì •ë³´ëŠ” ì¼ë°˜ ê±´ê°• ê°€ì´ë“œì´ë©°, ì •í™•í•œ ì§„ë‹¨ì€ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.</div>', unsafe_allow_html=True)

